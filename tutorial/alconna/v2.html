<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Alconna | ArcletProject</title>
    <meta name="description" content="Document for ArcletProject">
    <meta name="generator" content="VitePress v1.5.0">
    <link rel="preload stylesheet" href="/assets/style.DAt7IUCp.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.DQan_94g.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.ubP3Qdyg.js">
    <link rel="modulepreload" href="/assets/chunks/framework.DCts17Kx.js">
    <link rel="modulepreload" href="/assets/tutorial_alconna_v2.md.DcyUJx3e.lean.js">
    <link rel="icon" href="/logo.png">
    <meta name="theme-color" content="#2564c2">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-d8b57b2d><!--[--><!--]--><!--[--><span tabindex="-1" data-v-c8291ffa></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-c8291ffa> Skip to content </a><!--]--><!----><header class="VPNav" data-v-d8b57b2d data-v-7ad780c2><div class="VPNavBar" data-v-7ad780c2 data-v-9fd4d1dd><div class="wrapper" data-v-9fd4d1dd><div class="container" data-v-9fd4d1dd><div class="title" data-v-9fd4d1dd><div class="VPNavBarTitle has-sidebar" data-v-9fd4d1dd data-v-9f43907a><a class="title" href="/" data-v-9f43907a><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo.svg" alt data-v-ab19afbb><!--]--><span data-v-9f43907a>ArcletProject</span><!--[--><!--]--></a></div></div><div class="content" data-v-9fd4d1dd><div class="content-body" data-v-9fd4d1dd><!--[--><!--]--><div class="VPNavBarSearch search" data-v-9fd4d1dd><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-9fd4d1dd data-v-afb2845e><span id="main-nav-aria-label" class="visually-hidden" data-v-afb2845e> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/tutorial/intro.html" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>入门</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-afb2845e data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-bfe7971f><span class="text" data-v-bfe7971f><!----><span data-v-bfe7971f>深入</span><span class="vpi-chevron-down text-icon" data-v-bfe7971f></span></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><div class="items" data-v-20ed86d6><!--[--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/appendices/WIP.html" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>开发指南</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-9fd4d1dd data-v-3f90c1a5><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-3f90c1a5 data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-9fd4d1dd data-v-ef6192dc data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/ArcletProject" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-9fd4d1dd data-v-f953d92f data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-bfe7971f><span class="vpi-more-horizontal icon" data-v-bfe7971f></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><!----><!--[--><!--[--><!----><div class="group" data-v-f953d92f><div class="item appearance" data-v-f953d92f><p class="label" data-v-f953d92f>黑暗模式</p><div class="appearance-action" data-v-f953d92f><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-f953d92f data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div></div></div><div class="group" data-v-f953d92f><div class="item social-links" data-v-f953d92f><div class="VPSocialLinks social-links-list" data-v-f953d92f data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/ArcletProject" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-9fd4d1dd data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><div class="divider" data-v-9fd4d1dd><div class="divider-line" data-v-9fd4d1dd></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-d8b57b2d data-v-2488c25a><div class="container" data-v-2488c25a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-2488c25a><span class="vpi-align-left menu-icon" data-v-2488c25a></span><span class="menu-text" data-v-2488c25a>目录</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-2488c25a data-v-883964e0><button data-v-883964e0>回到顶部 ▲</button><!----></div></div></div><aside class="VPSidebar" data-v-d8b57b2d data-v-42c4c606><div class="curtain" data-v-42c4c606></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-42c4c606><span class="visually-hidden" id="sidebar-aria-label" data-v-42c4c606> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0" data-v-51288d80 data-v-edd2eed8><!----><div class="items" data-v-edd2eed8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/tutorial/intro.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>概览</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 has-active" data-v-51288d80 data-v-edd2eed8><div class="item" role="button" tabindex="0" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><h2 class="text" data-v-edd2eed8>教程</h2><!----></div><div class="items" data-v-edd2eed8><!--[--><section class="VPSidebarItem level-1 collapsible collapsed has-active" data-v-edd2eed8 data-v-edd2eed8><div class="item" role="button" tabindex="0" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><h3 class="text" data-v-edd2eed8>Alconna</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-edd2eed8><span class="vpi-chevron-right caret-icon" data-v-edd2eed8></span></div></div><div class="items" data-v-edd2eed8><!--[--><div class="VPSidebarItem level-2 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/tutorial/alconna/v1.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>1.8</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/tutorial/alconna/v2.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>2.0</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-edd2eed8 data-v-edd2eed8><div class="item" role="button" tabindex="0" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><h3 class="text" data-v-edd2eed8>NEPattern</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-edd2eed8><span class="vpi-chevron-right caret-icon" data-v-edd2eed8></span></div></div><div class="items" data-v-edd2eed8><!--[--><div class="VPSidebarItem level-2 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/tutorial/nepattern/v0.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>0.6</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/tutorial/nepattern/v1.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>1.0</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-1 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/tutorial/cithun.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>Cithub</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/tutorial/letoderea.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>Letoderea</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/tutorial/entari.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>Entari</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/tutorial/tarina.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>Tarina</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-d8b57b2d data-v-9a6c75ad><div class="VPDoc has-sidebar has-aside" data-v-9a6c75ad data-v-e6f2a212><!--[--><!--]--><div class="container" data-v-e6f2a212><div class="aside" data-v-e6f2a212><div class="aside-curtain" data-v-e6f2a212></div><div class="aside-container" data-v-e6f2a212><div class="aside-content" data-v-e6f2a212><div class="VPDocAside" data-v-e6f2a212 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-cb998dce data-v-f610f197><div class="content" data-v-f610f197><div class="outline-marker" data-v-f610f197></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-f610f197>目录</div><ul class="VPDocOutlineItem root" data-v-f610f197 data-v-53c99d69><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e6f2a212><div class="content-container" data-v-e6f2a212><!--[--><!--]--><main class="main" data-v-e6f2a212><div style="position:relative;" class="vp-doc _tutorial_alconna_v2 external-link-icon-enabled" data-v-e6f2a212><div><h1 id="alconna" tabindex="-1">Alconna <a class="header-anchor" href="#alconna" aria-label="Permalink to &quot;Alconna&quot;">​</a></h1><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>该教程是对整个 Alconna 特性的大致归纳，以帮助读者熟悉 Alconna 的使用与开发。</p><p>有关更多详细内容，请参阅 文档(/guide/alconna)</p></div><div class="danger custom-block"><p class="custom-block-title">DANGER</p><p>该部分内容对应的 v2 版本的 Alconna 仍然处于开发中，可能会有较大变动。</p></div><p><a href="https://github.com/ArcletProject/Alconna" target="_blank" rel="noreferrer"><code>Alconna</code></a> 是 <code>Arclet Project</code> 下负责命令参数解析的模块，是 <code>Arclet</code> 的核心模块之一。</p><p>我们通过一个例子来讲解 <strong>Alconna</strong> 的核心 —— <code>Args</code>, <code>Subcommand</code>, <code>Option</code>：</p><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes min-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> arclet</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alconna </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Alconna</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Args</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Subcommand</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Option</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alc </span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Alconna</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">    &quot;pip&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    Subcommand</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">        &quot;install&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">        Args.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">package</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#1976D2;--shiki-dark:#56B6C2;">str</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">        Option</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;-r|--requirement&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, Args.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">file</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#1976D2;--shiki-dark:#56B6C2;">str</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">)),</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">        Option</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;-i|--index-url&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, Args.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">url</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#1976D2;--shiki-dark:#56B6C2;">str</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">)),</span></span>
<span class="line"><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">    )</span></span>
<span class="line"><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">res </span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> alc</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">parse</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;pip install arclet-entari -i URL&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#56B6C2;">print</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(res)</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># matched=True, header_match=(origin=&#39;pip&#39; result=&#39;pip&#39; matched=True), value_result={(&#39;install&#39;,): Ellipsis, (&#39;install&#39;, &#39;index-url&#39;): Ellipsis}, other_args={&#39;package&#39;: &#39;arclet-entari&#39;, &#39;url&#39;: &#39;URL&#39;}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#56B6C2;">print</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(res.all_matched_args)</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># {&#39;package&#39;: &#39;arclet-entari&#39;, &#39;url&#39;: &#39;URL&#39;}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><details class="details custom-block"><summary>解释</summary><p>这段代码通过 <code>Alconna </code> 创建了一个接受主命令名为 <code>pip</code>, 子命令为 <code>install</code> 且子命令接受一个 <strong>Args</strong> 参数package和二个 <strong>Option</strong> 参数<code>requirement</code>和<code>index-url</code>的命令参数解析器, 通过parse方法返回解析结果 <strong>Arparma</strong> 的实例。</p></details><p>其特点有:</p><ul><li>高效. 在 i5-10210U 处理器上, 性能大约为 <code>+71000~289000 msg/s</code></li><li>直观的命令组件创建方式</li><li>强大的类型解析与类型转换功能</li><li>自定义的帮助信息格式与命令解析控制</li><li>i18n</li><li>命令输入缓存, 以保证重复命令的快速响应</li><li>易用的快捷命令创建与使用</li><li>可以绑定回调函数, 以便于在命令解析完成后执行</li><li>可创建命令补全会话, 以实现多轮连续的补全提示</li><li>模糊匹配、输出捕获等一众特性</li></ul><h2 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-label="Permalink to &quot;安装&quot;">​</a></h2><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes min-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#2B5581;--shiki-dark:#98C379;"> clone</span><span style="--shiki-light:#2B5581;--shiki-dark:#98C379;"> https://github.com/ArcletProject/Alconna@dev</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="参数声明-args" tabindex="-1">参数声明(Args) <a class="header-anchor" href="#参数声明-args" aria-label="Permalink to &quot;参数声明(Args)&quot;">​</a></h2><p><strong>Args</strong> 是用于声明命令参数的组件, 在 Alconna 中有非常重要的地位，甚至称得上是核心，比 Alconna 重要十倍甚至九倍。</p><p><strong>Args</strong> 可以通过以下三种方式构造：</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-62WVP" id="tab-a74X99E" checked><label data-title="动态形式" for="tab-a74X99E">动态形式</label><input type="radio" name="group-62WVP" id="tab-_JVtUhL"><label data-title="静态形式" for="tab-_JVtUhL">静态形式</label><input type="radio" name="group-62WVP" id="tab-gTFeeZ3"><label data-title="Arg列表形式" for="tab-gTFeeZ3">Arg列表形式</label></div><div class="blocks"><div class="language-python vp-adaptive-theme active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes min-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> arclet</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alconna </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Alconna</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Args</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alc </span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Alconna</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;test&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, Args.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">foo</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#1976D2;--shiki-dark:#56B6C2;">str</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">bar</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#1976D2;--shiki-dark:#56B6C2;">int</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Args.key(var).key1(var1, default=default1, ...)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes min-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> arclet</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alconna </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Alconna</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> ArgsBase</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> arg_field</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;"> TestArgs</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">ArgsBase</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">    foo</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#1976D2;--shiki-dark:#56B6C2;"> str</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">    bar</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#1976D2;--shiki-dark:#56B6C2;"> int</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#   key: var</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#   key1: var1 = default1</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#   key2: var2 = arg_field(default=default2)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alc </span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Alconna</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;test&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, TestArgs)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes min-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> arclet</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alconna </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Alconna</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Arg</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alc </span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Alconna</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;test&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Arg</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;foo&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#1976D2;--shiki-dark:#56B6C2;">str</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Arg</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;bar&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#1976D2;--shiki-dark:#56B6C2;">int</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Arg(key, var), Arg(key, var, default=default, ...)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></div></div><p>其中，key <strong>一定</strong>是字符串，而 var 一般为参数的类型，default 为可能的默认值。</p><p>其与函数签名类似，但是<strong>动态构建中</strong>允许含有默认值的参数在前。</p><h3 id="参数名-key" tabindex="-1">参数名(key) <a class="header-anchor" href="#参数名-key" aria-label="Permalink to &quot;参数名(key)&quot;">​</a></h3><p><code>key</code> 的作用是用以标记解析出来的参数并存放于 <strong>Arparma</strong> 中，以方便用户调用。</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p><code>Args</code> 中的 <code>key</code> 在实际命令中并不需要传入（keyword 参数除外）：</p><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes min-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> arclet</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alconna </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Alconna</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Args</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alc </span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Alconna</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;test&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, Args.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">foo</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#1976D2;--shiki-dark:#56B6C2;">str</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alc</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">parse</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;test --foo abc&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 错误</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alc</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">parse</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;test abc&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 正确</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>若需要 <code>test --foo abc</code>，你应该使用 <code>Option</code>：</p><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes min-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> arclet</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alconna </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Alconna</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Args</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Option</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alc </span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Alconna</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;test&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Option</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;--foo&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, Args.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">foo</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#1976D2;--shiki-dark:#56B6C2;">str</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">)))</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></div><h3 id="参数值-var" tabindex="-1">参数值(var) <a class="header-anchor" href="#参数值-var" aria-label="Permalink to &quot;参数值(var)&quot;">​</a></h3><p>var 负责命令参数的<strong>类型检查与类型转化</strong></p><p><code>Args</code> 的<code>var</code>表面上看需要传入一个 <code>type</code>，但实际上它需要的是一个 <code>nepattern.Pattern</code> 的实例：</p><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes min-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> arclet</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alconna </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Args</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> nepattern </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Pattern</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 表示 foo 参数需要匹配一个 @number 样式的字符串</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">args </span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Args</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">foo</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(Pattern.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">regex_match</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;@\d+&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">))</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><code>pip</code> 示例中可以传入 <code>str</code> 是因为 <code>str</code> 已经注册在了 <code>nepattern.global_patterns</code> 中，因此会替换为 <code>nepattern.global_patterns[str]</code></p><p><code>nepattern.global_patterns</code>默认支持的类型有：</p><ul><li><code>str</code>: 匹配任意字符串</li><li><code>int</code>: 匹配整数</li><li><code>float</code>: 匹配浮点数</li><li><code>bool</code>: 匹配 <code>True</code> 与 <code>False</code> 以及他们小写形式</li><li><code>hex</code>: 匹配 <code>0x</code> 开头的十六进制字符串</li><li><code>url</code>: 匹配网址</li><li><code>email</code>: 匹配 <code>xxxx@xxx</code> 的字符串</li><li><code>ipv4</code>: 匹配 <code>xxx.xxx.xxx.xxx</code> 的字符串</li><li><code>list</code>: 匹配类似 <code>[&quot;foo&quot;,&quot;bar&quot;,&quot;baz&quot;]</code> 的字符串</li><li><code>dict</code>: 匹配类似 <code>{&quot;foo&quot;:&quot;bar&quot;,&quot;baz&quot;:&quot;qux&quot;}</code> 的字符串</li><li><code>datetime</code>: 传入一个 <code>datetime</code> 支持的格式字符串，或时间戳</li><li><code>Any</code>: 匹配任意类型</li><li><code>AnyString</code>: 匹配任意类型，转为 <code>str</code></li><li><code>Number</code>: 匹配 <code>int</code> 与 <code>float</code>，转为 <code>int</code></li></ul><p>同时可以使用 typing 中的类型：</p><ul><li><code>Literal[X]</code>: 匹配其中的任意一个值</li><li><code>Union[X, Y]</code>: 匹配其中的任意一个类型</li><li><code>Optional[xxx]</code>: 会自动将默认值设为 <code>None</code>，并在解析失败时使用默认值</li><li><code>list[X]</code>: 匹配一个列表，其中的元素为 <code>X</code> 类型</li><li><code>dict[X, Y]</code>: 匹配一个字典，其中的 key 为 <code>X</code> 类型，value 为 <code>Y</code> 类型</li><li>...</li></ul><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>几类特殊的传入标记：</p><ul><li><code>&quot;foo&quot;</code>: 匹配字符串 &quot;foo&quot; (若没有某个 <code>BasePattern</code> 与之关联)</li><li><code>RawStr(&quot;foo&quot;)</code>: 匹配字符串 &quot;foo&quot; (即使有 <code>BasePattern</code> 与之关联也不会被替换)</li><li><code>&quot;foo|bar|baz&quot;</code>: 匹配 &quot;foo&quot; 或 &quot;bar&quot; 或 &quot;baz&quot;</li><li><code>[foo, bar, Baz, ...]</code>: 匹配其中的任意一个值或类型</li><li><code>Callable[[X], Y]</code>: 匹配一个参数为 <code>X</code> 类型的值，并返回通过该函数调用得到的 <code>Y</code> 类型的值</li><li><code>&quot;re:xxx&quot;</code>: 匹配一个正则表达式 <code>xxx</code>，会返回 Match[0]</li><li><code>&quot;rep:xxx&quot;</code>: 匹配一个正则表达式 <code>xxx</code>，会返回 <code>re.Match</code> 对象</li><li><code>{foo: bar, baz: qux}</code>: 匹配字典中的任意一个键, 并返回对应的值 (特殊的键 ... 会匹配任意的值)</li><li>...</li></ul><p><strong>特别的</strong>，你可以不传入 <code>var</code>，此时会使用 <code>key</code> 作为 <code>var</code>, 匹配 <code>key</code> 字符串。</p></div><h3 id="参数域-field" tabindex="-1">参数域(Field) <a class="header-anchor" href="#参数域-field" aria-label="Permalink to &quot;参数域(Field)&quot;">​</a></h3><p>除了 <code>key</code> 与 <code>var</code> 外，剩余的参数都会被视为 <strong>Field</strong> 对象的属性。其用于携带对于该参数的更多信息。</p><p><strong>Field</strong> 具有如下属性：</p><ul><li>default: <code>T</code> 默认值</li><li>default_factory: <code>() -&gt; T</code> 默认值工厂</li><li>alias: <code>str | None</code> 给默认值的别名</li><li>completion: <code>(() -&gt; str | list[str]) | None</code> 补全提示</li><li>unmatch_tips: <code>(Any) -&gt; str | None</code> 传入参数未匹配时的提示信息</li><li>missing_tips: <code>() -&gt; str | None</code> 缺失传入参数时的提示信息</li><li>notice: <code>str</code> 注释/帮助信息</li><li>seps: <code>str</code> 参数单元使用的分隔符</li><li>multiple: <code>bool | int | &quot;+&quot; | &quot;*&quot; | &quot;str&quot;</code> 参数单元是否可接受多个值，类似于函数中的 <code>*args</code></li><li>optional: <code>bool</code> 参数单元是否可选</li><li>hidden: <code>bool</code> 参数单元是否隐藏类型（在帮助信息中只显示名称）</li><li>wildcard: <code>bool</code> 参数单元是否为泛匹配 (即该参数后的所有参数都会被匹配到该参数中，并结束解析)</li></ul><p>默认情况下 (即不声明) <code>default</code> 的值为特殊值 <code>Empty</code>。这也意味着你可以将默认值设置为 <code>None</code> 表示默认值为空值。</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p><code>multiple</code> 的值可以为 <code>bool</code>，<code>int</code>，<code>&quot;+&quot;</code>，<code>&quot;*&quot;</code>，<code>&quot;str&quot;</code>:</p><ul><li><code>bool</code>: 表示是否接受多个值</li><li><code>int</code>: 表示接受的值的最大数量</li><li><code>&quot;+&quot;</code>: 表示接受多个值，但至少接受一个</li><li><code>&quot;*&quot;</code>: 表示接受多个值，但可以接受零个</li><li><code>&quot;str&quot;</code>: 表示接受多个值，但会被合并为一个字符串</li></ul></div><p><code>wildcard</code> 的值为 <code>True</code> 时，表示该参数为泛匹配参数。当命令解析进行到该参数时，传入命令的<strong>后续所有数据都会被匹配到该参数上</strong>。</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-P4leG" id="tab-Js0id6_" checked><label data-title="任意匹配" for="tab-Js0id6_">任意匹配</label><input type="radio" name="group-P4leG" id="tab-t1N501z"><label data-title="类型匹配" for="tab-t1N501z">类型匹配</label></div><div class="blocks"><div class="language-python vp-adaptive-theme active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes min-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> typing </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Any</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> arclet</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alconna </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Alconna</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Args</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alc </span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Alconna</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;test&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, Args.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">foo</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(Any, </span><span style="--shiki-light:#212121;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">wildcard</span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#1976D2;--shiki-dark:#D19A66;">True</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">res </span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> alc</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">parse</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;test 123 456 789&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#56B6C2;">print</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(res.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">query</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;foo&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">))</span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  # [&#39;123&#39;, &#39;456&#39;, &#39;789&#39;]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes min-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> arclet</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alconna </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Alconna</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Args</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alc </span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Alconna</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;test&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, Args.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">foo</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#1976D2;--shiki-dark:#56B6C2;">str</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#212121;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">wildcard</span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#1976D2;--shiki-dark:#D19A66;">True</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">res </span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> alc</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">parse</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">([</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;test&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;123&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;456&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#1976D2;--shiki-dark:#D19A66;">789</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">])</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#56B6C2;">print</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(res.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">query</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;foo&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">))</span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  # [&#39;123&#39;, &#39;456&#39;]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></div></div><p>可以注意到，泛匹配的返回值是一个列表，包含了所有匹配到的值。</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>返回值的类型与 <code>Argv.converter</code> 有关，默认处理为列表。而在其他场景继承并修改了 <code>Argv</code> 的情况下，返回值可能会有所不同。</p></div><h2 id="选项与子命令-option-subcommand" tabindex="-1">选项与子命令(Option &amp; Subcommand) <a class="header-anchor" href="#选项与子命令-option-subcommand" aria-label="Permalink to &quot;选项与子命令(Option &amp; Subcommand)&quot;">​</a></h2><p><strong>Option</strong> 与 <strong>Subcommand</strong> 是 Alconna 中的两个重要组件。</p><p><code>Option</code> 和 <code>Subcommand</code> 可以传入一组 <code>alias</code>，</p><p>如 <code>Option(&quot;--foo|-F|--FOO|-f&quot;)</code>，<code>Subcommand(&quot;foo&quot;, alias=[&quot;F&quot;])</code></p><p>传入别名后，选项与子命令会选择其中长度最长的作为其名称。若传入为 &quot;--foo|-f&quot;，则命令名称为 &quot;--foo&quot;</p><div class="tip custom-block"><p class="custom-block-title">特别提醒!!!</p><p>Option 的名字或别名<strong>没有要求</strong>必须在前面写上 <code>-</code></p><p>Option 与 Subcommand 的唯一区别在于 Subcommand 可以传入自己的 <strong>Option</strong> 与 <strong>Subcommand</strong></p></div><p>他们拥有如下共同参数：</p><ul><li><p><code>help_text</code>: 传入该组件的帮助信息</p></li><li><p><code>dest</code>: 被指定为解析完成时标注匹配结果的标识符，不传入时默认为选项或子命令的名称 (name)</p></li><li><p><code>default</code>: 默认值，在该组件未被解析时使用使用该值替换。</p><p>特别的，使用 <code>OptionResult</code> 或 <code>SubcomanndResult</code> 可以设置包括参数字典在内的默认值：</p><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes min-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> arclet</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alconna </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Option</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> OptionResult</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">opt1 </span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Option</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;--foo&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#212121;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">default</span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#1976D2;--shiki-dark:#D19A66;">False</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">opt2 </span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Option</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;--foo&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#212121;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">default</span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">OptionResult</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#212121;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">value</span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#1976D2;--shiki-dark:#D19A66;">False</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#212121;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">args</span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">{</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;bar&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#1976D2;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">}))</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ul><h3 id="选项操作-action" tabindex="-1">选项操作(Action) <a class="header-anchor" href="#选项操作-action" aria-label="Permalink to &quot;选项操作(Action)&quot;">​</a></h3><p><code>Option</code> 可以特别设置传入一类 <code>Action</code>，作为解析操作</p><p><code>Action</code> 分为三类：</p><ul><li><p><code>store</code>: 无 Args 时， 仅存储一个值， 默认为 Ellipsis； 有 Args 时， 后续的解析结果会覆盖之前的值</p></li><li><p><code>append</code>: 无 Args 时， 将多个值存为列表， 默认为 Ellipsis； 有 Args 时， 每个解析结果会追加到列表中</p><p>当存在默认值并且不为列表时， 会自动将默认值变成列表， 以保证追加的正确性</p></li><li><p><code>count</code>: 无 Args 时， 计数器加一； 有 Args 时， 表现与 STORE 相同</p><p>当存在默认值并且不为数字时， 会自动将默认值变成 1， 以保证计数器的正确性。</p></li></ul><p><code>Alconna</code> 提供了预制的几类 <code>action</code>：</p><ul><li><code>store</code>，<code>store_value</code>，<code>store_true</code>，<code>store_false</code></li><li><code>append</code>，<code>append_value</code></li><li><code>count</code></li></ul><h2 id="解析结果-arparma" tabindex="-1">解析结果(Arparma) <a class="header-anchor" href="#解析结果-arparma" aria-label="Permalink to &quot;解析结果(Arparma)&quot;">​</a></h2><p><code>Alconna.parse</code> 会返回由 <strong>Arparma</strong> 承载的解析结果。</p><p><code>Arpamar</code> 会有如下参数：</p><ul><li><p>调试类</p><ul><li>matched: 是否匹配成功</li><li>error_data: 解析失败时剩余的数据</li><li>error_info: 解析失败时的异常内容</li><li>origin: 原始命令，可以类型标注</li></ul></li><li><p>分析类</p><ul><li><p>header_match: 命令头部的解析结果，包括原始头部、解析后头部、解析结果与可能的正则匹配组</p></li><li><p>main_args: 命令的主参数的解析结果</p></li><li><p>options: 命令所有选项的解析结果</p></li><li><p>subcommands: 命令所有子命令的解析结果</p></li><li><p>other_args: 除主参数外的其他解析结果</p></li><li><p>all_matched_args: 所有 Args 的解析结果</p></li></ul></li></ul><p><code>Arparma</code> 同时提供了便捷的查询方法 <code>query[T]()</code>，会根据传入的 <code>path</code> 查找参数并返回</p><p><code>path</code> 支持如下：</p><ul><li><code>options</code>, ...: 返回对应的属性</li><li><code>args</code>: 返回 all_matched_args</li><li><code>options.xxx</code>, ...: 返回字典中 <code>xxx</code>键对应的值</li><li><code>args.xxx</code>: 返回 all_matched_args 中 <code>xxx</code>键对应的值</li><li><code>options.foo</code>, <code>foo</code>: 返回选项 <code>foo</code> 的解析结果 (OptionResult)</li><li><code>options.foo.value</code>, <code>foo.value</code>: 返回选项 <code>foo</code> 的解析值</li><li><code>options.foo.args</code>, <code>foo.args</code>: 返回选项 <code>foo</code> 的解析参数字典</li><li><code>options.foo.args.bar</code>, <code>foo.bar</code>: 返回选项 <code>foo</code> 的参数字典中 <code>bar</code> 键对应的值 ...</li></ul><p>同样, <code>Arparma[&quot;foo.bar&quot;]</code> 的表现与 <code>query()</code> 一致</p><h2 id="元数据-metadata" tabindex="-1">元数据(Metadata) <a class="header-anchor" href="#元数据-metadata" aria-label="Permalink to &quot;元数据(Metadata)&quot;">​</a></h2><p><code>Alconna</code> 的元数据相当于拓展的帮助信息，包括：</p><ul><li><code>description</code>: 命令的描述</li><li><code>usage</code>: 命令的用法</li><li><code>example</code>: 命令的使用样例</li><li><code>author</code>: 命令的作者</li><li><code>version</code>: 命令的版本</li><li><code>extra</code>: 命令的额外信息</li></ul><h2 id="命令配置-config" tabindex="-1">命令配置(Config) <a class="header-anchor" href="#命令配置-config" aria-label="Permalink to &quot;命令配置(Config)&quot;">​</a></h2><p>命令配置相当于 v1 版本的 <code>CommandMeta</code>，包括：</p><ul><li><code>disable_builtin_options</code>: 禁用的内置选项</li><li><code>builtin_option_name</code>: 内置选项的名称</li><li><code>enable_message_cache</code>: 是否启用消息缓存</li><li><code>fuzzy_match</code>: 命令是否开启模糊匹配</li><li><code>fuzzy_threshold</code>: 模糊匹配阈值</li><li><code>raise_exception</code>: 命令是否抛出异常</li><li><code>hide</code>: 命令是否对 manager 隐藏</li><li><code>hide_shortcut</code>: 命令的快捷指令是否在 help 信息中隐藏</li><li><code>keep_crlf</code>: 命令解析时是否保留换行字符</li><li><code>compact</code>: 命令是否允许第一个参数紧随头部</li><li><code>strict</code>: 命令是否严格匹配，若为 False 则未知参数将作为名为 $extra 的参数</li><li><code>context_style</code>: 命令上下文插值的风格，None 为关闭，bracket 为 <code>{...}</code>，parentheses 为 <code>$(...)</code></li><li><code>extra</code>: 命令的自定义额外配置</li></ul><h2 id="紧凑命令" tabindex="-1">紧凑命令 <a class="header-anchor" href="#紧凑命令" aria-label="Permalink to &quot;紧凑命令&quot;">​</a></h2><p><code>Alconna</code>, <code>Option</code> 可以设置 <code>compact=True</code> 使得解析命令时允许名称与后随参数之间没有分隔：</p><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes min-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> arclet</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alconna </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Alconna</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Option</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Config</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Args</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alc </span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Alconna</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;test&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, Args.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">foo</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#1976D2;--shiki-dark:#56B6C2;">int</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Option</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;BAR&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, Args.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">baz</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#1976D2;--shiki-dark:#56B6C2;">str</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#212121;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">compact</span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#1976D2;--shiki-dark:#D19A66;">True</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Config</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#212121;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">compact</span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#1976D2;--shiki-dark:#D19A66;">True</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">assert</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> alc</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">parse</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;test123 BARabc&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">).</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">matched</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>这使得我们可以实现如下命令：</p><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes min-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> arclet</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alconna </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Alconna</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Option</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Args</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> append</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> alc </span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Alconna</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;gcc&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Option</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;--flag|-F&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, Args.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">content</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#1976D2;--shiki-dark:#56B6C2;">str</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#212121;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">action</span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">append))</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> alc</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">parse</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;gcc -Fabc -Fdef -Fxyz&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">query</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;flag.content&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&#39;abc&#39;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;"> &#39;def&#39;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;"> &#39;xyz&#39;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>当 <code>Option</code> 的 <code>action</code> 为 <code>count</code> 时，其自动支持 <code>compact</code> 特性：</p><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes min-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> arclet</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alconna </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Alconna</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Option</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Args</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> count</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> alc </span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Alconna</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;pp&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Option</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;--verbose|-v&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#212121;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">action</span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">count, </span><span style="--shiki-light:#212121;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">default</span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#1976D2;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> alc</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">parse</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;pp -vvv&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">query</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;verbose.value&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#1976D2;--shiki-dark:#D19A66;">3</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="帮助信息" tabindex="-1">帮助信息 <a class="header-anchor" href="#帮助信息" aria-label="Permalink to &quot;帮助信息&quot;">​</a></h2><p>每个 Alconna 命令 都可以通过 <code>--help</code> 或 <code>-h</code> 触发命令的帮助信息，并且可以通过继承 <code>arclet.alconna.formatter.TextFormatter</code> 来个性化信息样式，如：</p><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes min-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> arclet</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alconna </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Alconna</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Args</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Metadata</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> arclet</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alconna</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">tools </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> MarkdownTextFormatter</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alc </span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Alconna</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;test&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, Args.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">count</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#1976D2;--shiki-dark:#56B6C2;">int</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#212121;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">notice</span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;这是一个注释&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Metadata</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#212121;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">description</span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;Hello World&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#212121;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">formatter_type</span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">MarkdownTextFormatter)</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alc</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">parse</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;test --help&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><details class="details custom-block"><summary>输出:</summary><div class="language-txt vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes min-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>## Hello World</span></span>
<span class="line"><span></span></span>
<span class="line"><span>指令:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>**test &amp;lt;count:int&amp;gt;**</span></span>
<span class="line"><span>### 注释:</span></span>
<span class="line"><span>&amp;#96;&amp;#96;&amp;#96;</span></span>
<span class="line"><span>count: 这是一个注释</span></span>
<span class="line"><span>&amp;#96;&amp;#96;&amp;#96;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></details><p>除此之外，你可以通过 <code>command_manager</code> 获取当前程序下的所有命令：</p><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes min-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> arclet</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alconna </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> command_manager</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D19A66;">...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#56B6C2;">print</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(command_manager.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">all_command_help</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">())</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><details class="details custom-block"><summary>输出:</summary><div class="language-txt vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes min-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span># 当前可用的命令有:</span></span>
<span class="line"><span> - foo : Unknown</span></span>
<span class="line"><span> - bar : Unknown</span></span>
<span class="line"><span> - baz : Unknown</span></span>
<span class="line"><span> - qux : Unknown</span></span>
<span class="line"><span># 输入&#39;命令名 --help&#39; 查看特定命令的语法</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></details><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Alconna 可以设置 <code>config.hide</code> 参数以不被 command_manager 打印出来。</p><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes min-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> arclet</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alconna </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Alconna</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Config</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> command_manager</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">foo </span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Alconna</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;foo&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Config</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#212121;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">hide</span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#1976D2;--shiki-dark:#D19A66;">True</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D19A66;">...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#56B6C2;">print</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(command_manager.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">all_command_help</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">())</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><details class="details custom-block"><summary>输出:</summary><div class="language-txt vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes min-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span># 当前可用的命令有:</span></span>
<span class="line"><span> - bar : Unknown</span></span>
<span class="line"><span> - baz : Unknown</span></span>
<span class="line"><span> - qux : Unknown</span></span>
<span class="line"><span># 输入&#39;命令名 --help&#39; 查看特定命令的语法</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></details></div><h2 id="命名空间配置" tabindex="-1">命名空间配置 <a class="header-anchor" href="#命名空间配置" aria-label="Permalink to &quot;命名空间配置&quot;">​</a></h2><p>命名空间配置 （以下简称命名空间） 相当于 <code>Alconna</code> 的默认配置，其优先度低于 <code>Config</code>。</p><p><code>Alconna</code> 默认使用 &quot;Alconna&quot; 命名空间。</p><p>命名空间有以下几个属性：</p><ul><li>name: 命名空间名称</li><li>config: 默认配置</li><li>prefixes: 默认前缀配置</li><li>separators: 默认分隔符配置</li><li>formatter_type: 默认格式化器类型</li><li>...</li></ul><h3 id="新建命名空间并替换" tabindex="-1">新建命名空间并替换 <a class="header-anchor" href="#新建命名空间并替换" aria-label="Permalink to &quot;新建命名空间并替换&quot;">​</a></h3><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes min-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> arclet</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alconna </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Alconna</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> namespace</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Namespace</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Subcommand</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Args</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> config</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">ns </span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Namespace</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;foo&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#212121;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">prefixes</span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;/&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">])</span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  # 创建 &quot;foo&quot;命名空间配置, 它要求创建的Alconna的主命令前缀必须是/</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alc </span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Alconna</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;pip&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Subcommand</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;install&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, Args.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">package</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#1976D2;--shiki-dark:#56B6C2;">str</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">)), </span><span style="--shiki-light:#212121;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">namespace</span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">ns)</span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 在创建Alconna时候传入命名空间以替换默认命名空间</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 可以通过with方式创建命名空间</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">with</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> namespace</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;bar&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;"> as</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> np1</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">    np1</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">prefixes </span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;!&quot;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">]    </span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 以上下文管理器方式配置命名空间，此时配置会自动注入上下文内创建的命令</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">    np1</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">formatter_type </span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> ShellTextFormatter  </span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 设置此命名空间下的命令的 formatter 默认为 ShellTextFormatter</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">    np1</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">builtin_option_name</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;help&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">]</span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;帮助&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;"> &quot;-h&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">}</span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  # 设置此命名空间下的命令的帮助选项名称</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 你还可以使用config来管理所有命名空间并切换至任意命名空间</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">config</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">namespaces</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;foo&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">]</span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> ns  </span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 将命名空间挂载到 config 上</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alc </span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Alconna</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;pip&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Subcommand</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;install&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, Args.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">package</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#1976D2;--shiki-dark:#56B6C2;">str</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">)), </span><span style="--shiki-light:#212121;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">namespace</span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">config.namespaces[</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;foo&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">])</span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 也是同样可以切换到&quot;foo&quot;命名空间</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="修改默认的命名空间" tabindex="-1">修改默认的命名空间 <a class="header-anchor" href="#修改默认的命名空间" aria-label="Permalink to &quot;修改默认的命名空间&quot;">​</a></h3><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes min-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> arclet</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alconna </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> config</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> namespace</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Namespace</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">config</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">default_namespace</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">prefixes </span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D19A66;">...</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">]  </span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 直接修改默认配置</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">np </span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Namespace</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;xxx&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#212121;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">prefixes</span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#212121;--shiki-dark:#D19A66;">...</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">])</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">config</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">default_namespace </span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> np  </span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 更换默认的命名空间</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">with</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> namespace</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(config.default_namespace.name)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;"> as</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> np</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">    np</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">prefixes </span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D19A66;">...</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="快捷指令" tabindex="-1">快捷指令 <a class="header-anchor" href="#快捷指令" aria-label="Permalink to &quot;快捷指令&quot;">​</a></h2><p>快捷指令顾名思义，可以为基础指令创建便捷的触发方式, 并且传递参数给原命令</p><p>一般情况下你可以通过 <code>Alconna.shortcut</code> 进行快捷指令操作 (创建，删除)。</p><p><code>shortcut</code> 的第一个参数为快捷指令名称，第二个参数为 <code>ShortcutArgs</code>，作为快捷指令的配置</p><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes min-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;"> ShortcutArgs</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">TypedDict</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-dark:#98C379;">    &quot;&quot;&quot;快捷指令参数&quot;&quot;&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">    command</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> NotRequired</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#1976D2;--shiki-dark:#56B6C2;">str</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-dark:#98C379;">    &quot;&quot;&quot;快捷指令的命令&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">    args</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> NotRequired</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">list</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">Any</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">]]</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-dark:#98C379;">    &quot;&quot;&quot;快捷指令的附带参数&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">    fuzzy</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> NotRequired</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#1976D2;--shiki-dark:#56B6C2;">bool</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-dark:#98C379;">    &quot;&quot;&quot;是否允许命令后随参数&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">    prefix</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> NotRequired</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#1976D2;--shiki-dark:#56B6C2;">bool</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-dark:#98C379;">    &quot;&quot;&quot;是否调用时保留指令前缀&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">    wrapper</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> NotRequired</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">ShortcutRegWrapper</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-dark:#98C379;">    &quot;&quot;&quot;快捷指令的正则匹配结果的额外处理函数&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">    humanized</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> NotRequired</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#1976D2;--shiki-dark:#56B6C2;">str</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-dark:#98C379;">    &quot;&quot;&quot;快捷指令的人类可读描述&quot;&quot;&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>当 <code>fuzzy</code> 为 False 时，传入 <code>&quot;涩图1张 abc&quot;</code> 之类的快捷指令将视为解析失败</p><p>快捷指令允许三类特殊的 placeholder:</p><ul><li><p><code>{%X}</code>: 只用于 <code>command</code>, 如 <code>setu {%0}</code>，表示此处填入快截指令后随的第 X 个参数。</p><p>例如，若快捷指令为 <code>涩图</code>, 配置为 <code>{&quot;command&quot;: &quot;setu {%0}&quot;}</code>, 则指令 <code>涩图 1</code> 相当于 <code>setu 1</code></p></li><li><p><code>{*}</code>: 只用于 <code>command</code>, 表示此处填入所有后随参数，并且可以通过 <code>{*X}</code> 的方式指定组合参数之间的分隔符。</p></li><li><p><code>{X}</code>: 用于 <code>command</code> 与 <code>args</code>， 表示此处填入可能的正则匹配的组：</p><ul><li>若 <code>command</code> 中存在匹配组 <code>(xxx)</code>，则 <code>{X}</code> 表示第 X 个匹配组的内容</li><li>若 <code>command</code> 中存储匹配组 <code>(?P&lt;xxx&gt;...)</code>, 则 <code>{X}</code> 表示名字为 X 的匹配结果</li></ul></li></ul><p>除此之外, 通过内置选项 <code>--shortcut</code> 可以动态操作快捷指令。</p><h3 id="示例" tabindex="-1">示例 <a class="header-anchor" href="#示例" aria-label="Permalink to &quot;示例&quot;">​</a></h3><ul><li><code>args</code> 的使用:</li></ul><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes min-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> arclet</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alconna </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Alconna</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Args</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alc </span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Alconna</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;setu&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, Args.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">count</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#1976D2;--shiki-dark:#56B6C2;">int</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alc</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">shortcut</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;涩图(\d+)张&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, {</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;args&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">: [</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#1976D2;--shiki-dark:#D19A66;">{0}</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">]})</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># &#39;Alconna::setu 的快捷指令: &quot;涩图(\\d+)张&quot; 添加成功&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alc</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">parse</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;涩图3张&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">query</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;count&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 3</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li><code>command</code> 的使用:</li></ul><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes min-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> arclet</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alconna </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Alconna</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Args</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alc </span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Alconna</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;eval&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, Args.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">content</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#1976D2;--shiki-dark:#56B6C2;">str</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alc</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">shortcut</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;echo&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, {</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;command&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;eval print(</span><span style="--shiki-light:#22863A;--shiki-dark:#56B6C2;">\\</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&#39;{*}</span><span style="--shiki-light:#22863A;--shiki-dark:#56B6C2;">\\</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&#39;)&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">})</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># &#39;Alconna::eval 的快捷指令: &quot;echo&quot; 添加成功&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alc</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">shortcut</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;echo&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#212121;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">delete</span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#1976D2;--shiki-dark:#D19A66;">True</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 删除快捷指令</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># &#39;Alconna::eval 的快捷指令: &quot;echo&quot; 删除成功&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">@alc</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">bind</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 绑定一个命令执行器, 若匹配成功则会传入参数, 自动执行命令执行器</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> cb</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#FF9800;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;">content</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#1976D2;--shiki-dark:#56B6C2;"> str</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#56B6C2;">    eval</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(content, {}, {})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alc</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">parse</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&#39;eval print(</span><span style="--shiki-light:#22863A;--shiki-dark:#56B6C2;">\\</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;hello world</span><span style="--shiki-light:#22863A;--shiki-dark:#56B6C2;">\\</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;)&#39;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># hello world</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alc</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">parse</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;echo hello world!&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># hello world!</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="半自动补全" tabindex="-1">半自动补全 <a class="header-anchor" href="#半自动补全" aria-label="Permalink to &quot;半自动补全&quot;">​</a></h2><p>半自动补全为用户提供了推荐后续输入的功能。</p><p>补全默认通过 <code>--comp</code> 或 <code>-cp</code> 或 <code>?</code> 触发：（命名空间配置可修改名称）</p><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes min-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> arclet</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alconna </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Alconna</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Args</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Option</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alc </span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Alconna</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;test&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, Args.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">abc</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#1976D2;--shiki-dark:#56B6C2;">int</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">))</span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Option</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;foo&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Option</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;bar&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alc</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">parse</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;test --comp&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><details class="details custom-block"><summary>输出:</summary><div class="language-txt vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes min-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>以下是建议的输入：</span></span>
<span class="line"><span>* &lt;abc: int&gt;</span></span>
<span class="line"><span>* --help</span></span>
<span class="line"><span>* -h</span></span>
<span class="line"><span>* -sct</span></span>
<span class="line"><span>* --shortcut</span></span>
<span class="line"><span>* foo</span></span>
<span class="line"><span>* bar</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></details><h3 id="补全会话" tabindex="-1">补全会话 <a class="header-anchor" href="#补全会话" aria-label="Permalink to &quot;补全会话&quot;">​</a></h3><p>补全会话基于半自动补全，提供了交互操作补全的接口</p><p>补全会话通过创建 <code>CompSession</code> 并进入上下文触发：</p><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes min-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> arclet</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alconna </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Alconna</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Args</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Option</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> CompSession</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alc </span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Alconna</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;test&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, Args.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">abc</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#1976D2;--shiki-dark:#56B6C2;">int</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">))</span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Option</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;foo&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Option</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;bar&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">with</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> CompSession</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(alc)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;"> as</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> comp</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">    alc</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">parse</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;test&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> comp</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">available</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#56B6C2;">    print</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;current completion:&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, comp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">current</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">())</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#56B6C2;">    print</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;next completion:&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, comp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">tab</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">())</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">    with</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> comp</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">        res </span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> comp</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">enter</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">([</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;1&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">])</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">assert</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> res</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">matched</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="使用模糊匹配" tabindex="-1">使用模糊匹配 <a class="header-anchor" href="#使用模糊匹配" aria-label="Permalink to &quot;使用模糊匹配&quot;">​</a></h2><p>模糊匹配通过在 Alconna 中设置其 <code>Config.fuzzy_match</code> 开启。</p><p>模糊匹配会应用在任意需要进行名称判断的地方，如<strong>命令名称</strong>，<strong>选项名称</strong>和<strong>参数名称</strong>（如指定需要传入参数名称）。</p><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes min-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> arclet</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alconna </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Alconna</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Config</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alc </span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Alconna</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;test_fuzzy&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Config</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#212121;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">fuzzy_match</span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#1976D2;--shiki-dark:#D19A66;">True</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alc</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">parse</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;test_fuzy&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># output: test_fuzy is not matched. Do you mean &quot;test_fuzzy&quot;?</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="上下文插值" tabindex="-1">上下文插值 <a class="header-anchor" href="#上下文插值" aria-label="Permalink to &quot;上下文插值&quot;">​</a></h2><p>当 <code>context_style</code> 条目被设置后，传入的命令中符合上下文插值的字段会被自动替换成当前上下文中的信息。</p><p>上下文可以在 <code>parse</code> 中传入：</p><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes min-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> arclet</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alconna </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Alconna</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Args</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;"> Config</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alc </span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Alconna</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;test&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, Args.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">foo</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#1976D2;--shiki-dark:#56B6C2;">int</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Config</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#212121;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">context_style</span><span style="--shiki-light:#D32F2F;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;parentheses&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ABB2BF;">alc</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">parse</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;test $(bar)&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">, {</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">&quot;bar&quot;</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#1976D2;--shiki-dark:#D19A66;">123</span><span style="--shiki-light:#212121;--shiki-dark:#ABB2BF;">})</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># {&quot;foo&quot;: 123}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>context_style 的值分两种：</p><ul><li><code>&quot;bracket&quot;</code>: 插值格式为 <code>{...}</code>，例如 <code>{foo}</code></li><li><code>&quot;parentheses&quot;</code>: 插值格式为 <code>$(...)</code>，例如 <code>$(bar)</code></li></ul><h2 id="自定义语言文件" tabindex="-1">自定义语言文件 <a class="header-anchor" href="#自定义语言文件" aria-label="Permalink to &quot;自定义语言文件&quot;">​</a></h2><p>Alconna 的 i18n 支持使用了 <a href="https://github.com/ArcletProject/Tarina/blob/main/src/tarina/lang" target="_blank" rel="noreferrer"><code>Tarina.lang</code></a></p><p>其语言文件配置位于 <a href="https://github.com/ArcletProject/Alconna/tree/dev/src/arclet/alconna/i18n" target="_blank" rel="noreferrer"><code>arclet.alconna.i18n</code></a> 下</p><p>您可以通过 <code>tarina.lang.select</code> 切换语言配置，也可以通过 <code>tarina.lang.set</code> 对单一文本进行修改。</p><h2 id="参考链接" tabindex="-1">参考链接 <a class="header-anchor" href="#参考链接" aria-label="Permalink to &quot;参考链接&quot;">​</a></h2><p>QQ 交流群: <a href="https://jq.qq.com/?_wv=1027&amp;k=PUPOnCSH" target="_blank" rel="noreferrer">🔗链接</a></p><p>要了解如何使用 Alconna-Graia, 参考 <a href="https://graiax.cn/guide/message_parser/alconna.html" target="_blank" rel="noreferrer">消息链匹配/Alconna</a></p><p>要了解如何使用 nonebot-plugin-alconna, 参考 <a href="https://nonebot.dev/docs/best-practice/alconna/" target="_blank" rel="noreferrer">nonebot-plugin-alconna 文档</a></p></div></div></main><footer class="VPDocFooter" data-v-e6f2a212 data-v-1bcd8184><!--[--><!--]--><div class="edit-info" data-v-1bcd8184><div class="edit-link" data-v-1bcd8184><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/ArcletProject/Documents/edit/main/tutorial/alconna/v2.md" target="_blank" rel="noreferrer" data-v-1bcd8184><!--[--><span class="vpi-square-pen edit-link-icon" data-v-1bcd8184></span> 在 GitHub 编辑此页<!--]--></a></div><div class="last-updated" data-v-1bcd8184><p class="VPLastUpdated" data-v-1bcd8184 data-v-1bb0c8a8>上次更新: <time datetime="2025-07-26T03:53:14.000Z" data-v-1bb0c8a8></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-1bcd8184><span class="visually-hidden" id="doc-footer-aria-label" data-v-1bcd8184>Pager</span><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link prev" href="/tutorial/alconna/v1.html" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>上一页</span><span class="title" data-v-1bcd8184>Alconna 1.8</span><!--]--></a></div><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link next" href="/tutorial/nepattern/v0.html" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>下一页</span><span class="title" data-v-1bcd8184>NEPattern 0.6</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-d8b57b2d data-v-566314d4><div class="container" data-v-566314d4><p class="message" data-v-566314d4>MIT License</p><p class="copyright" data-v-566314d4>Copyright © 2025 ArcletProject</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"appendices_wip.md\":\"B8scjMVM\",\"index.md\":\"CNJBkCzU\",\"tutorial_alconna_index.md\":\"DglP0PVU\",\"tutorial_alconna_v1.md\":\"8VCpzew6\",\"tutorial_alconna_v2.md\":\"DcyUJx3e\",\"tutorial_cithun.md\":\"JOombMfu\",\"tutorial_entari.md\":\"BMZXy5lS\",\"tutorial_intro.md\":\"Cim2wJmv\",\"tutorial_letoderea.md\":\"BKxQcM-X\",\"tutorial_nepattern_index.md\":\"BArNYOWb\",\"tutorial_nepattern_v0.md\":\"Bsq3_3CQ\",\"tutorial_nepattern_v1.md\":\"DygJs-sD\",\"tutorial_tarina.md\":\"xOGwCnJL\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"ArcletProject\",\"description\":\"Document for ArcletProject\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"/logo.svg\",\"nav\":[{\"text\":\"入门\",\"link\":\"/tutorial/intro.md\",\"activeMatch\":\"/tutorial/intro.md\"},{\"text\":\"深入\",\"items\":[{\"text\":\"开发指南\",\"link\":\"/appendices/WIP.md\",\"activeMatch\":\"/appendices/WIP.md\"}]}],\"sidebar\":{\"/tutorial/\":[{\"text\":\"\",\"items\":[{\"text\":\"概览\",\"link\":\"/tutorial/intro.md\"}]},{\"text\":\"教程\",\"items\":[{\"text\":\"Alconna\",\"collapsed\":true,\"items\":[{\"text\":\"1.8\",\"link\":\"/tutorial/alconna/v1.md\"},{\"text\":\"2.0\",\"link\":\"/tutorial/alconna/v2.md\"}]},{\"text\":\"NEPattern\",\"collapsed\":true,\"items\":[{\"text\":\"0.6\",\"link\":\"/tutorial/nepattern/v0.md\"},{\"text\":\"1.0\",\"link\":\"/tutorial/nepattern/v1.md\"}]},{\"text\":\"Cithub\",\"link\":\"/tutorial/cithun.md\"},{\"text\":\"Letoderea\",\"link\":\"/tutorial/letoderea.md\"},{\"text\":\"Entari\",\"link\":\"/tutorial/entari.md\"},{\"text\":\"Tarina\",\"link\":\"/tutorial/tarina.md\"}]}]},\"editLink\":{\"pattern\":\"https://github.com/ArcletProject/Documents/edit/main/:path\",\"text\":\"在 GitHub 编辑此页\"},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/ArcletProject\"}],\"footer\":{\"message\":\"MIT License\",\"copyright\":\"Copyright © 2025 ArcletProject\"},\"lastUpdated\":{\"text\":\"上次更新\"},\"outline\":{\"label\":\"目录\",\"level\":[2,3]},\"docFooter\":{\"prev\":\"上一页\",\"next\":\"下一页\"},\"search\":{\"provider\":\"local\"},\"darkModeSwitchLabel\":\"黑暗模式\",\"lightModeSwitchTitle\":\"切换到浅色模式\",\"darkModeSwitchTitle\":\"切换到黑暗模式\",\"sidebarMenuLabel\":\"目录\",\"returnToTopLabel\":\"回到顶部 ▲\",\"externalLinkIcon\":true},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>